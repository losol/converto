# Converto Strapi Plugin

Converto Strapi Plugin is a Strapi plugin for converting HTML to PDF. It can take either raw HTML or an URL as input, and will return an PDF generated on headless Chrome (Puppeteer).

## What is this?

The plugin exposes this API, which takes html as an input, and returns an pdf generated by headless Chrome (Puppeteer).

`POST /api/converto`

The postdata should contain

- **url** The url to make pdf from, OR
- **html** The html to make pdf from

The header should contain:

- **Authorization** with bearer token achieved from `auth/local`

Optional fields:

- **scale**: The scale of print. Should be a number between 0.2 and 2. Default is 1.
- **format**: The paper format. Default is A4.

Both methods require `Authorization: Bearer <JWT token>` header. To obtain an `jwt token` you could do a post witn content-type `application/json` to `auth/local`, for example:

```
{
	"identifier": "asdf@asdf.com",
	"password": "asdfasdf"
}

OR create an API token through the admin panel and pass it directly as a bearer token.
```

## Get started

1. Clone the repo, and run `npm install` in the project folder.
2. Run Strapi with Converto with the command `npx strapi develop`
3. Login on `localhost:1337/admin`, and create a new user. For example with email `asdf@asdf.com`, and password `asdfasdf`.
4. Go to roles and permissions, and add Converto - Html2Pdf - convert to the allow conversions for this user.
5. Use Postman or your preferred client to get an jwt token by sending the credentials to `localhost:1337/auth/local``
6. Add the jwt token to the header as a bearer token, and send your request to `localhost:1337/convert/html/to/pdf``

Find more [documentation on the API, with an Postman Collection](https://documenter.getpostman.com/view/863421/SWLZeUzS?version=latest).
